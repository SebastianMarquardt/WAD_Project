{"ast":null,"code":"var _jsxFileName = \"/Users/sebastian/Documents/GitHub/WAD_Project/my-app/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport Axios from 'axios';\nimport { Link } from \"react-router-dom\";\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{4,24}$/;\nfunction Login() {\n  _s();\n  const [usernameReg, setUsernameReg] = useState(\"\");\n  const [passwordReg, setPasswordReg] = useState(\"\");\n  const [errMsgReg, setErrMsgReg] = useState(\"\");\n  const [usernameLog, setUsernameLog] = useState(\"\");\n  const [passwordLog, setPasswordLog] = useState(\"\");\n  const [errMsgLog, setErrMsgLog] = useState(\"\");\n  const register = async e => {\n    e.preventDefault();\n    const v1 = USER_REGEX.test(usernameReg);\n    const v2 = PWD_REGEX.test(passwordReg);\n    if (!v1 || !v2) {\n      if (errMsgReg !== \"Invalid username or password\") {\n        setErrMsgReg(\"Invalid username or password\");\n      }\n      return;\n    }\n    if (errMsgReg !== \"\") {\n      setErrMsgReg(\"\");\n    }\n    try {\n      const response = await Axios.post(\"http://localhost:8080/login/postUser\", null, {\n        params: {\n          name: usernameReg,\n          password: passwordReg\n        }\n      });\n      console.log(response);\n      setErrMsgReg(\"Registered\");\n    } catch (err) {\n      var _err$response;\n      if (!(err !== null && err !== void 0 && err.response)) {\n        setErrMsgReg(\"No Server Response'\");\n      } else if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 409) {\n        setErrMsgReg(\"User already exists\");\n      } else {\n        setErrMsgReg(\"Registration failed\");\n      }\n    }\n  };\n  const login = async e => {\n    e.preventDefault();\n    try {\n      const response = await Axios.post(\"http://localhost:8080/login\", null, {\n        params: {\n          name: usernameLog,\n          password: passwordLog\n        }\n      });\n      console.log(response);\n      setErrMsgLog(\"\");\n    } catch (err) {\n      var _err$response2;\n      if (!(err !== null && err !== void 0 && err.response)) {\n        setErrMsgLog(\"No Server Response'\");\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        setErrMsgLog(\"Wrong password\");\n      } else {\n        setErrMsgLog(\"User not found\");\n      }\n    }\n    ;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              setUsernameLog(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            onChange: e => {\n              setPasswordLog(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/homepage\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: login,\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errMsgLog\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registration\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              setUsernameReg(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            onChange: e => {\n              setPasswordReg(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: register,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errMsgReg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"6uhXbYjXibSLZ0TDBpPMItS0m+g=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","Axios","Link","USER_REGEX","PWD_REGEX","Login","usernameReg","setUsernameReg","passwordReg","setPasswordReg","errMsgReg","setErrMsgReg","usernameLog","setUsernameLog","passwordLog","setPasswordLog","errMsgLog","setErrMsgLog","register","e","preventDefault","v1","test","v2","response","post","params","name","password","console","log","err","status","login","target","value"],"sources":["/Users/sebastian/Documents/GitHub/WAD_Project/my-app/src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\nimport Axios from 'axios';\nimport {Link} from \"react-router-dom\";\nimport './Login.css'\n\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{4,24}$/;\n\nfunction Login() {\n  const [usernameReg, setUsernameReg] = useState(\"\")\n  const [passwordReg, setPasswordReg] = useState(\"\")\n  const [errMsgReg, setErrMsgReg] = useState(\"\");\n\n  const [usernameLog, setUsernameLog] = useState(\"\")\n  const [passwordLog, setPasswordLog] = useState(\"\")\n  const [errMsgLog, setErrMsgLog] = useState(\"\");\n\n\n  const register = async (e) => {\n    e.preventDefault();\n    const v1 = USER_REGEX.test(usernameReg);\n    const v2 = PWD_REGEX.test(passwordReg);\n    if (!v1 || !v2) {\n      if (errMsgReg !== \"Invalid username or password\") {\n        setErrMsgReg(\"Invalid username or password\")\n      }\n      return;\n    }\n    if (errMsgReg !== \"\") {\n      setErrMsgReg(\"\")\n    }\n    try {\n      const response = await Axios.post(\"http://localhost:8080/login/postUser\", null, {\n        params: {\n          name: usernameReg,\n          password: passwordReg,\n        }\n      })\n      console.log(response)\n      setErrMsgReg(\"Registered\")\n    }\n    catch (err) {\n      if (!err?.response) {\n        setErrMsgReg(\"No Server Response'\");\n      } else if (err.response?.status === 409) {\n        setErrMsgReg(\"User already exists\");\n      } else {\n        setErrMsgReg(\"Registration failed\")\n      }\n    }\n  }\n\n  const login = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await Axios.post(\"http://localhost:8080/login\", null, {\n        params: {\n          name: usernameLog,\n          password: passwordLog,\n        }\n      })\n      console.log(response)\n      setErrMsgLog(\"\")\n    }\n    catch (err) {\n      if (!err?.response) {\n        setErrMsgLog(\"No Server Response'\");\n      } else if (err.response?.status === 401) {\n        setErrMsgLog(\"Wrong password\");\n      } else {\n        setErrMsgLog(\"User not found\")\n      }\n    };\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"login\">\n        <ul>\n          <li><h1>Login</h1></li>\n          <li><label>Username</label></li>\n          <li><input type=\"text\" onChange={(e) => {\n            setUsernameLog(e.target.value)\n          }} /></li>\n          <li><label>Password</label></li>\n          <li><input type=\"password\" onChange={(e) => {\n            setPasswordLog(e.target.value)\n          }} /></li>\n          <li><Link to=\"/homepage\"><button onClick={login}>Login</button></Link></li>\n          <li><p>{errMsgLog}</p></li>\n        </ul>\n      </div>\n      <div className=\"registration\">\n        <ul>\n          <li><h1>Register</h1></li>\n          <li><label>Username</label></li>\n          <li><input type=\"text\" onChange={(e) => {\n            setUsernameReg(e.target.value)\n          }} /></li>\n          <li><label>Password</label></li>\n          <li><input type=\"password\" onChange={(e) => {\n            setPasswordReg(e.target.value)\n          }} /></li>\n          <li><button onClick={register}>Register</button></li>\n          <li><p>{errMsgReg}</p></li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,IAAI,QAAO,kBAAkB;AACrC,OAAO,aAAa;AAAA;AAEpB,MAAMC,UAAU,GAAG,yBAAyB;AAC5C,MAAMC,SAAS,GAAG,yDAAyD;AAE3E,SAASC,KAAK,GAAG;EAAA;EACf,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAG9C,MAAMkB,QAAQ,GAAG,MAAOC,CAAC,IAAK;IAC5BA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,EAAE,GAAGlB,UAAU,CAACmB,IAAI,CAAChB,WAAW,CAAC;IACvC,MAAMiB,EAAE,GAAGnB,SAAS,CAACkB,IAAI,CAACd,WAAW,CAAC;IACtC,IAAI,CAACa,EAAE,IAAI,CAACE,EAAE,EAAE;MACd,IAAIb,SAAS,KAAK,8BAA8B,EAAE;QAChDC,YAAY,CAAC,8BAA8B,CAAC;MAC9C;MACA;IACF;IACA,IAAID,SAAS,KAAK,EAAE,EAAE;MACpBC,YAAY,CAAC,EAAE,CAAC;IAClB;IACA,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,IAAI,CAAC,sCAAsC,EAAE,IAAI,EAAE;QAC9EC,MAAM,EAAE;UACNC,IAAI,EAAErB,WAAW;UACjBsB,QAAQ,EAAEpB;QACZ;MACF,CAAC,CAAC;MACFqB,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC;MACrBb,YAAY,CAAC,YAAY,CAAC;IAC5B,CAAC,CACD,OAAOoB,GAAG,EAAE;MAAA;MACV,IAAI,EAACA,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEP,QAAQ,GAAE;QAClBb,YAAY,CAAC,qBAAqB,CAAC;MACrC,CAAC,MAAM,IAAI,kBAAAoB,GAAG,CAACP,QAAQ,kDAAZ,cAAcQ,MAAM,MAAK,GAAG,EAAE;QACvCrB,YAAY,CAAC,qBAAqB,CAAC;MACrC,CAAC,MAAM;QACLA,YAAY,CAAC,qBAAqB,CAAC;MACrC;IACF;EACF,CAAC;EAED,MAAMsB,KAAK,GAAG,MAAOd,CAAC,IAAK;IACzBA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,IAAI,CAAC,6BAA6B,EAAE,IAAI,EAAE;QACrEC,MAAM,EAAE;UACNC,IAAI,EAAEf,WAAW;UACjBgB,QAAQ,EAAEd;QACZ;MACF,CAAC,CAAC;MACFe,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC;MACrBP,YAAY,CAAC,EAAE,CAAC;IAClB,CAAC,CACD,OAAOc,GAAG,EAAE;MAAA;MACV,IAAI,EAACA,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEP,QAAQ,GAAE;QAClBP,YAAY,CAAC,qBAAqB,CAAC;MACrC,CAAC,MAAM,IAAI,mBAAAc,GAAG,CAACP,QAAQ,mDAAZ,eAAcQ,MAAM,MAAK,GAAG,EAAE;QACvCf,YAAY,CAAC,gBAAgB,CAAC;MAChC,CAAC,MAAM;QACLA,YAAY,CAAC,gBAAgB,CAAC;MAChC;IACF;IAAC;EACH,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,wBAClB;MAAK,SAAS,EAAC,OAAO;MAAA,uBACpB;QAAA,wBACE;UAAA,uBAAI;YAAA,UAAI;UAAK;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK,eACvB;UAAA,uBAAI;YAAA,UAAO;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAK,eAChC;UAAA,uBAAI;YAAO,IAAI,EAAC,MAAM;YAAC,QAAQ,EAAGE,CAAC,IAAK;cACtCN,cAAc,CAACM,CAAC,CAACe,MAAM,CAACC,KAAK,CAAC;YAChC;UAAE;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAAK,eACV;UAAA,uBAAI;YAAA,UAAO;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAK,eAChC;UAAA,uBAAI;YAAO,IAAI,EAAC,UAAU;YAAC,QAAQ,EAAGhB,CAAC,IAAK;cAC1CJ,cAAc,CAACI,CAAC,CAACe,MAAM,CAACC,KAAK,CAAC;YAChC;UAAE;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAAK,eACV;UAAA,uBAAI,QAAC,IAAI;YAAC,EAAE,EAAC,WAAW;YAAA,uBAAC;cAAQ,OAAO,EAAEF,KAAM;cAAA,UAAC;YAAK;cAAA;cAAA;cAAA;YAAA;UAAS;YAAA;YAAA;YAAA;UAAA;QAAO;UAAA;UAAA;UAAA;QAAA,QAAK,eAC3E;UAAA,uBAAI;YAAA,UAAIjB;UAAS;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK;MAAA;QAAA;QAAA;QAAA;MAAA;IACxB;MAAA;MAAA;MAAA;IAAA,QACD,eACN;MAAK,SAAS,EAAC,cAAc;MAAA,uBAC3B;QAAA,wBACE;UAAA,uBAAI;YAAA,UAAI;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK,eAC1B;UAAA,uBAAI;YAAA,UAAO;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAK,eAChC;UAAA,uBAAI;YAAO,IAAI,EAAC,MAAM;YAAC,QAAQ,EAAGG,CAAC,IAAK;cACtCZ,cAAc,CAACY,CAAC,CAACe,MAAM,CAACC,KAAK,CAAC;YAChC;UAAE;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAAK,eACV;UAAA,uBAAI;YAAA,UAAO;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAK,eAChC;UAAA,uBAAI;YAAO,IAAI,EAAC,UAAU;YAAC,QAAQ,EAAGhB,CAAC,IAAK;cAC1CV,cAAc,CAACU,CAAC,CAACe,MAAM,CAACC,KAAK,CAAC;YAChC;UAAE;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAAK,eACV;UAAA,uBAAI;YAAQ,OAAO,EAAEjB,QAAS;YAAA,UAAC;UAAQ;YAAA;YAAA;YAAA;UAAA;QAAS;UAAA;UAAA;UAAA;QAAA,QAAK,eACrD;UAAA,uBAAI;YAAA,UAAIR;UAAS;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK;MAAA;QAAA;QAAA;QAAA;MAAA;IACxB;MAAA;MAAA;MAAA;IAAA,QACD;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV;AAAC,GArGQL,KAAK;AAAA,KAALA,KAAK;AAuGd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}